# Продвинутые темы и техники C++
## Урок 5. Макросы и препроцессор

Цели практической работы
* Познакомиться с работой препроцессора и попрактиковаться в работе с макросами.
* Научиться:
    - объявлять и использовать макросы-константы,
    - объявлять и использовать макросы-функции,
    - пользоваться директивой препроцессора с условием,
    - смотреть итоговой исходный код после препроцессора.

### Что входит в практическую работу
### Обязательные задачи:
1. Реализовать продвинутый ввод и вывод дней недели.
2. Реализовать вывод выбранного времени года.
Дополнительные задачи:
3. Реализовать анализ вагонов.

### Общие условия
Разработка выполняется в среде VS Code.
## Задание 1. Реализация продвинутого ввода и вывода дней недели

### Что нужно сделать
Используя макросы, реализуйте небольшую программу по вводу дня недели и выводу этого дня недели в текстовом виде в консоль.
В начале программы пользователь вводит день недели в виде его порядкового номера. В результате в консоли появляется буквенное отображение этого дня недели.
В этом упражнении запрещается использовать классические переменные, кроме как для хранения ввода пользователя. Использовать строковые литералы напрямую тоже нельзя. Всё должно быть реализовано исключительно на макросах.

### Советы и рекомендации
Конкатенация двух фрагментов может породить токен, который в свою очередь является именем макроса, и этот макрос тоже раскроется. Используйте это свойство для перевода константы дня недели в строковый литерал.
Обязательно просмотрите итоговый код после препроцессинга из CLion с помощью Shift-Shift → Preprocess current TU.

## Задание 2. Вывод времени года

### Что нужно сделать
Используя макросы вместе с условными директивами прекомпиляции (#if / #endif), реализуйте простую программу по выводу названия времени года в консоль.
Пользователь программы, который будет иметь дело с вашим кодом, в этом случае тоже программист. С помощью определения одного из макросов (в самом коде): SPRING, SUMMER, AUTUMN или WINTER он задаёт сезон, название, которое хочет увидеть на экране. При компиляции и запуске программы на экране должно появиться название именно этого сезона и только его.

### Советы и рекомендации
Так как препроцессор работает до компиляции, то в #if/#endif-директивы вы можете обернуть всю функцию main сразу.
Обязательно просмотрите итоговый код после препроцессинга из CLion с помощью Shift-Shift → Preprocess current TU.

## Задание 3. Анализ заполненности вагонов в поезде* (дополнительное Задание)

### Что нужно сделать
В поезде всего 10 вагонов. В каждом из этих вагонов может находиться до 20 пассажиров - это их оптимальное количество. Проанализируйте количество людей в каждом вагоне и сначала сообщите об излишне заполненных вагонах, далее о вагонах с пустыми пассажирскими местами. В заключение выведите общее количество пассажиров во всех вагонах.
При старте программы пользователь вводит количество пассажиров в каждом вагоне. Замечания о вагонах должны выводиться в стандартную консоль.
При выполнении задания пользоваться нельзя напрямую пользоваться for-циклами, только опосредованно, через макросы.

### Советы и рекомендации
С помощью макроса реализуйте модульный способ вызова функции над элементами массива. Сами функции реализуйте отдельно, в виде обычных классических функций (не макросов).
Модульный способ вызова функции печати текста через макрос:

```c++
#define CALL(func) { func("Hello, GeekBrains!"); }

void print(std::string str) {
std::cout << str << std::endl;
}

int main() {
CALL(print);
return 0;
}
```

Обязательно просмотрите итоговый код после препроцессинга из CLion с помощью 
Shift-Shift → Preprocess current TU.
